---
layout: post
title: CQK Top 10 — Performance and Availability pitfalls in the Microservices Architecture
author: bartosz.walacik
tags: [tech, cqk-top-10]
---

High performance and availability is really hard to achieve
in the microservices world.
Each user request sent to a frontend application triggers a cascade
of remote calls.
The frontend application calls API facades, API facades calls backend services,
backend services calls databases and even more backend services.
Statistics work against you. Latencies are summed up but failure probabilities are multiplied.
The more services are engaged in a flow, the more threats for performance and availability.

Since we are doing microservices at scale for a while, we can share
our experience about common availability pitfalls and performance bottlenecks.

Our Top 10 is meant as a self-check list.
There are ten topics, each one is covered in the separate article. 
In each article, you will find a few questions. 
You can go through these questions and ask yourself whether your system is safe or vulnerable
in that area. Of course, some questions could be not relevant for you, just skip them.

Each question is shortly explained and we give you some hints about possible improvements.

Now, we are publish first three articles. The rest will be published soon as we need to
translate our original writings from Polish to English.

## CQK Top 10
 
 * [Thread pools](/2016/09/CQK-TOP-10-threadpools.html)
 * [JVM Garbage Collection](/2016/09/CQK-TOP-10-gc.html)
 * [Caching](/2016/09/CQK-TOP-10-cache.html)

## What’s CQK after all?

CQK stands from Code Quality Keepers.
We are a group of engineers in allegro.tech who are passionate about code quality.
Besides our normal day-to-day job (most of us are team leaders or senior developers),
we help teams in allegro.tech to improve quality of their code. 

Inside CQK, we discuss a lot about code quality. 
How can you define truly good code? Can you measure it *goodness*?
Surprisingly, it’s really hard to come up with a better definition 
of *code quality* other than zen-style saying:

    Whatever works for you, it’s good.
    
Worse, things change. Two ears ago we focused on 
the common understanding of code quality.
So readability, maintainability, TDD, DDD ...
But when you look at a microservice,
maybe more important than its code aesthetics is how resilient it is?  

Personally, I really like the definition proposed by Robert L. Glass
in his great book &mdash; *Facts and Fallacies of Software Engineering*:

    Quality in the software field is about collection of seven attributes
    that a quality software product shoud have:
    portability, reliability, efficiency, usability, testability, understability
    , and modifiablity.
    
This definition is very tricky because it doesn’t define absolute weights (priorities)
for all ot these *-ilities*. Simply, it depends on your project.
When you write a computer game, maybe portability is the key.
But when you write a microservice,
I bet that you will care much about reliability.

Sometimes, after long discussion we reach an accord.
CQK Top 10 is in fact our latest definition of code quality in the microservices world.    
